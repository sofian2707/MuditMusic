<div *ngIf="identity">

  <!-- BARRA NAVEGACION LATERAL -->
  <nav>
    <ul class="navbarUl">
      <li id='navbarLi' class="contentTitle">
        <h1 class="titlewhite">
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 48 48">
            <ellipse cx="26.5" cy="26.843" fill="none" stroke="#2ef0f3" stroke-linecap="round" stroke-linejoin="round"
              rx="5.015" ry="5.867" transform="rotate(-75.841 26.5 26.843)" />
            <path fill="none" stroke="#2ef0f3" stroke-linecap="round" stroke-linejoin="round"
              d="M32.188 28.278L37.652 6.56c-.906 3.588 6.391 1.83 5.527 5.255" />
            <path fill="none" stroke="#2ef0f3" stroke-linecap="round" stroke-linejoin="round"
              d="M31.888 17.178a10.982 10.982 0 1 0 4.734 5.774" />
            <path fill="none" stroke="#2ef0f3" stroke-linecap="round" stroke-linejoin="round"
              d="M33.207 11.935a16.266 16.266 0 1 0 5.203 3.91" />
            <path fill="none" stroke="#2ef0f3" stroke-linecap="round" stroke-linejoin="round"
              d="M26.25 5.125a21.5 21.5 0 0 0-21.5 21.5" />
          </svg>
          {{title}}
        </h1>
      </li>

      <li id='navbarLi'>
        <a class="item" href="" [routerLink]="['/home']" [routerLinkActive]="['actived']">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor"
            class="bi bi-house-door-fill" viewBox="0 0 16 18">
            <path
              d="M6.5 14.5v-3.505c0-.245.25-.495.5-.495h2c.25 0 .5.25.5.5v3.5a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5z" />
          </svg>
          Inicio
        </a>
      </li>

      <li id='navbarLi'>
        <a class="item" href="" [routerLink]="['/artistas', 1]" [routerLinkActive]="['actived']">
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 15 15">
            <path fill="currentColor"
              d="M12.1 2.952a2.988 2.988 0 0 0-5.11 1.965l3.142 3.142A2.988 2.988 0 0 0 12.1 2.952Zm-7.428 5.3L2.55 10.377a1 1 0 0 0 0 1.414l.707.707a1 1 0 0 0 1.414 0l2.121-2.121l2.122-2.122l-2.121-2.121Zm.741 2.087l-.707-.707l2.087-2.084l.707.707Z" />
          </svg>
          Artistas
        </a>
      </li>

      <li id='navbarLi'>
        <a class="item" href="" [routerLink]="['/favorites']">
          <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid meet"
            viewBox="0 0 24 24">
            <g fill="none" stroke-width="1.5">
              <path stroke="currentColor"
                d="M2 17.4V2.6a.6.6 0 0 1 .6-.6h14.8a.6.6 0 0 1 .6.6v14.8a.6.6 0 0 1-.6.6H2.6a.6.6 0 0 1-.6-.6Z" />
              <path stroke="currentColor" stroke-linecap="round" d="M8 22h13.4a.6.6 0 0 0 .6-.6V8" />
              <path fill="currentColor" d="M11 12.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0Z" />
              <path stroke="currentColor" stroke-linecap="round"
                d="M11 12.5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0Zm0 0V6.6a.6.6 0 0 1 .6-.6H13" />
            </g>
          </svg>
          Favoritos
        </a>
      </li>


      <li class="dropdown" id='navbarLi'>

        <a class="dropbtn">
          <svg class="user" xmlns="http://www.w3.org/2000/svg" width="30" height="30"
            preserveAspectRatio="xMidYMid meet" viewBox="0 0 20 20">
            <path d="M10 12.5c-5.92 0-9 3.5-9 5.5v1h18v-1c0-2-3.08-5.5-9-5.5z" />
            <circle cx="10" cy="6" r="5" />
          </svg>
        </a>

        <!--DROPDOWN BARRA -->
        <div class="dropdown-content">

          <a><img id="image-logged" src="{{url+'get-image-user/'+identity.image}}"> <span
              id="identity_name">{{identity.name}}</span></a>
          <a class="itemUser" href="" [routerLink]="['/datos'] " [routerLinkActive]="['actived']">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" preserveAspectRatio="xMidYMid meet"
              viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5s3.5 1.57 3.5 3.5s-1.57 3.5-3.5 3.5z">
                <animateTransform attributeName="transform" attributeType="XML" dur="10s" from="0 12 12"
                  repeatCount="indefinite" to="360 12 12" type="rotate" />
              </path>
            </svg>
            Mis datos
          </a>

          <a href="" (click)="logout()">
            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" preserveAspectRatio="xMidYMid meet"
              viewBox="0 0 24 24">
              <path fill="currentColor"
                d="M19 4h-2a1 1 0 0 0 0 2h1v12h-1a1 1 0 0 0 0 2h2a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1Zm-7.2 3.4a1 1 0 0 0-1.6 1.2L12 11H4a1 1 0 0 0 0 2h8.09l-1.72 2.44a1 1 0 0 0 .24 1.4a1 1 0 0 0 .58.18a1 1 0 0 0 .81-.42l2.82-4a1 1 0 0 0 0-1.18Z" />
            </svg>
            Cerrar sesion</a>
        </div>

      </li>
    </ul>
  </nav>


  <!--LATERAL -->

  <div [class.hidden]="!identity" style="background-color: #1e1d1d; height: 100%;">
    <router-outlet></router-outlet>
    <player class="player"></player>
  </div>

</div>

<!--INICIAR SESION Y REGISTRO -->

<!-- Sección de inicio de sesión y registro -->
<section class="body" *ngIf="!identity">
  <div class="main">
    <input type="checkbox" id="chk" aria-hidden="true">

    <!-- Formulario de inicio de sesión -->
    <div class="signup">
      <form class="loginn" #loginForm="ngForm" (ngSubmit)="onSubmit()">
        <label for="chk" aria-hidden="true" style="font-size: 60px;">Mudit</label>

        <!-- Manejo de errores -->
        <div *ngIf="errorMessage">
          <div class="alert alert-danger" role="alert">
            <strong>Error: </strong>{{errorMessage.error.message}}
          </div>
        </div>

        <!-- Campo de correo electrónico -->
        <input type="email" #email="ngModel" [(ngModel)]="user.email" name="email" aria-describedby="emailHelp"
          placeholder="Email" required>
        <span *ngIf="!email.valid && (email.dirty || email.touched)"> Email obligatorio *</span>

        <!-- Campo de contraseña -->
        <input type="password" placeholder="Contraseña" #password="ngModel" name="password" [(ngModel)]="user.password"
          required>
        <span *ngIf="!password.valid && (password.dirty || password.touched)"> Ingrese la contraseña *</span>

    
        <!-- Botón de inicio de sesión -->
        <button type="submit">Iniciar sesión</button>
      </form>
    </div>

    <!-- Formulario de registro -->
    <div class="login">
      <form class="loginn" #registerForm="ngForm" (ngSubmit)="onSubmitRegister()">
        <label for="chk" aria-hidden="true"  style="font-size: 50px;">Registrarme</label>

        <!-- Mensaje de registro -->
        <div *ngIf="alertRegister">
          <p class="alert alert-primary" role="alert">
            {{alertRegister}}
          </p>
        </div>

        <div *ngIf="errorRegister">
          <div class="alert alert-danger" role="alert">
            {{errorRegister}}
          </div>
        </div>

        <!-- Campo de nombre -->
        <input type="text" placeholder="Nombre" #name="ngModel" [(ngModel)]="user_register.name" name="name" required>
        <span *ngIf="!name.valid && (name.dirty || name.touched)"> Nombre obligatorio</span>

        <!-- Campo de apellido -->
        <input type="text" placeholder="Apellido" #surname="ngModel" [(ngModel)]="user_register.surname" name="surname"
          required>
        <span *ngIf="!surname.valid && (surname.dirty || surname.touched)"> Apellido obligatorio</span>

        <!-- Campo de correo electrónico -->
        <input type="email" #emailr="ngModel" [(ngModel)]="user_register.email" name="email" placeholder="Email"
          required>
        <span *ngIf="!emailr.valid && (emailr.dirty || emailr.touched)"> Email obligatorio</span>

        <!-- Campo de contraseña -->
        <input type="password" placeholder="Contraseña" #passwordr="ngModel" name="password"
          [(ngModel)]="user_register.password" required>
        <span *ngIf="!passwordr.valid && (passwordr.dirty || passwordr.touched)"> Contraseña obligatoria</span>

        <!-- Botón de registro -->
        <button type="submit">Registrarme</button>
      </form>
    </div>
  </div>
</section>
